{% extends 'base1.html' %}
{% block title %} Registration {% endblock %}
{% block content %}
<!-- Background with gradient & bubbles -->
<style>
  body {
    background: linear-gradient(135deg, #d4fc79, #96e6a1);
    overflow: hidden;
  }

  .bubble {
    position: absolute;
    bottom: -100px;
    background: rgba(3, 54, 71, 0.2);
    border-radius: 50%;
    animation: rise 20s infinite ease-in;
    z-index: -1;
  }

  .bubble:nth-child(1) {
    left: 10%;
    width: 80px;
    height: 80px;
    animation-duration: 5s;
  }

  .bubble:nth-child(2) {
    left: 20%;
    width: 60px;
    height: 60px;
    animation-duration: 8s;
  }

  .bubble:nth-child(3) {
    left: 10%;
    width: 100px;
    height: 100px;
    animation-duration: 10s;
  }

  .bubble:nth-child(4) {
    left: 60%;
    width: 80px;
    height: 80px;
    animation-duration: 6s;
  }

  .bubble:nth-child(5) {
    left: 70%;
    width: 60px;
    height: 60px;
    animation-duration: 20s;
  }

  .bubble:nth-child(6) {
    left: 80%;
    width: 100px;
    height: 100px;
    animation-duration: 25s;
  }

  .bubble:nth-child(7) {
    left: 90%;
    width: 80px;
    height: 80px;
    animation-duration: 6s;
  }

  .bubble:nth-child(8) {
    left: 10%;
    width: 60px;
    height: 60px;
    animation-duration: 4s;
  }

  .bubble:nth-child(9) {
    left: 50%;
    width: 100px;
    height: 100px;
    animation-duration: 9s;
  }

  @keyframes rise {
    0% {
      transform: translateY(0);
      opacity: 0.5;
    }

    100% {
      transform: translateY(-120vh);
      opacity: 0;
    }
  }

  @keyframes float {
    0% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-20px);
    }

    100% {
      transform: translateY(0);
    }
  }
</style>

<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>

<!-- Centered card -->
<div class="d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg p-4 rounded-4" style="max-width: 450px; width: 100%;">
    <div class="text-center mb-4">
      <img src="https://cdn-icons-png.flaticon.com/512/2966/2966485.png" alt="logo" class="mb-3"
        style="max-height: 70px;" />
      <h2 class="fw-bold text-success">Create Account</h2>
      <p class="text-muted">Join us today, itâ€™s quick and easy!</p>
    </div>

    <!-- Registration Form -->
    <form method="post" action="{{ url_for('register') }}">
      <div class="mb-3">
        <label class="form-label fw-semibold">Username</label>
        <input type="text" name="username" class="form-control rounded-pill" placeholder="Choose a username" required>
      </div>

      <!-- Password field with toggle -->
      <div class="mb-3">
        <label class="form-label fw-semibold">Password</label>
        <div class="input-group">
          <input type="password" id="password" name="password" class="form-control rounded-start-pill"
            placeholder="Enter password" required>
          <button type="button" class="btn btn-outline-secondary rounded-end-pill" id="togglePassword">
            <i class="bi bi-eye-slash" id="toggleIcon1"></i>
          </button>
        </div>
      </div>

      <!-- Confirm Password field with toggle -->
      <div class="mb-3">
        <label class="form-label fw-semibold">Confirm Password</label>
        <div class="input-group">
          <input type="password" id="confirm_password" name="confirm_password" class="form-control rounded-start-pill"
            placeholder="Re-enter password" required>
          <button type="button" class="btn btn-outline-secondary rounded-end-pill" id="toggleConfirmPassword">
            <i class="bi bi-eye-slash" id="toggleIcon2"></i>
          </button>
        </div>
      </div>

      <div class="d-grid gap-2 mt-4">
        <button type="submit" class="btn btn-success rounded-pill">
          <i class="bi bi-person-check"></i> Register
        </button>
        <a href="{{ url_for('home1') }}" class="btn btn-outline-secondary rounded-pill">
          <i class="bi bi-box-arrow-left"></i> Back to Login
        </a>
      </div>
    </form>

    {% if error %}
    <div class="alert alert-danger mt-3 text-center rounded-pill py-2">
      {{ error }}
    </div>
    {% endif %}
  </div>
</div>

<!-- JS for password toggle -->
<script>
  // Password toggle
  document.getElementById("togglePassword").addEventListener("click", function () {
    const input = document.getElementById("password");
    const icon = document.getElementById("toggleIcon1");
    if (input.type === "password") {
      input.type = "text";
      icon.classList.replace("bi-eye-slash", "bi-eye");
    } else {
      input.type = "password";
      icon.classList.replace("bi-eye", "bi-eye-slash");
    }
  });

  // Confirm Password toggle
  document.getElementById("toggleConfirmPassword").addEventListener("click", function () {
    const input = document.getElementById("confirm_password");
    const icon = document.getElementById("toggleIcon2");
    if (input.type === "password") {
      input.type = "text";
      icon.classList.replace("bi-eye-slash", "bi-eye");
    } else {
      input.type = "password";
      icon.classList.replace("bi-eye", "bi-eye-slash");
    }
  });
</script>
{% endblock %}